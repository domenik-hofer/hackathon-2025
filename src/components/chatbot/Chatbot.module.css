.button {
    position: fixed;
    bottom: var(--spacing-base-5);
    right: var(--spacing-base-5);
    cursor: pointer;
}

.icon {
    display: flex;
    justify-content: end;
}

.tooltip {
    border: 2px solid var(--color-status-info);
    padding: 5px 10px;
    border-radius: var(--radius-base-medium);
    color: var(--color-status-info);
    margin-right: 50px;
}

.chat {
    position: fixed;
    bottom: 94px;
    right: 74px;
    background: white;
    padding: 45px var(--spacing-base-5);
    box-shadow: var(--shadow-box-default);
    border-radius: var(--radius-base-medium);
    width: 450px;
    z-index: 10;

    display: flex;                 /* already there */
    gap: 10px;
    flex-direction: column;        /* column layout for header/list/input */

    /* NEW: keep panel from growing forever */
    max-height: 70vh;              /* cap total height */
    overflow: hidden;              /* clip rounded corners */

    opacity: 0;
    translate: 10px 10px;
    transition: var(--animation-transition-standard);

    @starting-style {
        opacity: 0;
        translate: 0 0;
    }

    &.visible{
        opacity: 1;
        translate: 0 0;
    }

    .messages {
        display: flex;
        flex-direction: column;
        gap: 10px;

        /* NEW: make conversation scrollable */
        flex: 1 1 auto;            /* take remaining space */
        overflow-y: auto;          /* scroll like a chat */
        overscroll-behavior: contain; /* prevent page scroll bleed */
        padding-right: 8px;        /* space for scrollbar */
        scrollbar-gutter: stable both-edges;
    }

    /* Optional: nicer scrollbar (safe to remove) */
    .messages::-webkit-scrollbar { width: 8px; }
    .messages::-webkit-scrollbar-thumb { background: rgba(0,0,0,.25); border-radius: 8px; }
    .messages::-webkit-scrollbar-track { background: transparent; }

    .message {
        display: flex;
        gap: 10px;

        .bot {
            width: 50px;

            img {
                width: 40px;
                height: 40px;
            }
        }

        &.user {
            justify-content: flex-end;

            .bubble {
                background: var(--color-ui-design-burnt-sienna);
            }
        }
    }

    .bubble {
        max-width: 300px;
        background: var(--color-status-info);
        color: var(--color-ui-design-white);
        padding: 15px 20px;
        border-radius: var(--radius-base-medium);

        .text { }

        .options {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-top: 20px;

            .option {
                border: 2px solid var(--color-ui-design-white);
                padding: 5px 10px;
                border-radius: var(--radius-base-medium);
                color: var(--color-ui-design-white);
                cursor: pointer; /* better UX for clickable options */
            }
        }
    }

    .inputArea{
        display: flex;
        flex: 0 0 auto;            /* NEW: keep input row fixed at bottom */

        input {
            width: 100%;
            background: #fff ;
            border: 1px solid #999 ;
            box-sizing: border-box ;
            border-radius: 50px ;
            padding: 15px 26px ;
        }

        .sendButton {
            margin-left: 10px ;
            border-radius: 50px ;
            padding: 15px 26px ;
            color: #fff ;
            border: none ;
            cursor: pointer ;
        }
    }
}
